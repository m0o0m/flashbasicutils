<?xml version="1.0"?>  
  <project name="operation_file" basedir=".">
      <property file="./build.properties" />
      
      <target name="tihuan">
          
         <!-- 修改当前文件夹下的所有文件内容中的匹配内容
           <replace dir="./" token="test" value="test2"/>
            -->
          <replace dir="./" includes="test.txt" encoding="UTF-8">
			<replacefilter token="你好" value="你好  撒的发生"/>
			<replacefilter token="hello" value="hello english"/>
		</replace>
		<!-- 替换文件中的标记
             token 属性指定要查找的字符串，value 属性指定一个新的字符串，查找到的标记字符串的所有实例都被替换为这个新的字符串。
             	替换操作将在文件本身之内的适当位置进行。为了提供更详细的输出，可把 summary 属性设置为 true。这将导致该任务输出找到和替换的标记字符串实例的数目。
             <replace file="input.txt" token="old" value="new"/> 
          -->
          
        <replaceregexp byline="true">  <!-- byline="true" 表示替换所有满足条件的字符串，若设为false，则只会替换第一个满足正则表达式的字符串 -->
				<regexp pattern="[1-9][0-9]{4,}"/>  <!-- 正则表达式 -->
				<substitution expression="6356351"/>  <!--  表示将满足条件字符串替换成6356351 -->
				<fileset file="test.txt"/>  <!-- 在这个文件中进行查找和替换，你也可以设置为查找多个文件 -->
		</replaceregexp> 
      </target>
      <!-- 读取文件内容  逐行读取 -->
      <target name="read">
          <loadfile property="test"
      		srcFile="./test.txt"
      		encoding="UTF-8"/>
   		 <echo message="${test}"/>
      </target>
      <!-- 添加一行到文本 
      overwrite:即使源文件最新,也是否写入的设定
      -->
      <target name="add">
            <concat destfile ="test.txt" overwrite="no" encoding="UTF-8" append="yes">&#xD;&#xA;你好，世界！</concat>
      </target>
  </project>